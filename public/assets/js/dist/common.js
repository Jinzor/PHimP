"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function oid(a){return document.getElementById(a)}function ajx(a,b,c){var d=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3];return new Promise(function(e,f){"undefined"==typeof b&&(b="GET"),"undefined"==typeof c&&(c=""),a.includes("source=")||(a+=(a.includes("?")?"&":"?")+"source=ajax");var g=new XMLHttpRequest;if(g.onreadystatechange=function(){4===g.readyState&&(200===g.status?e(g.responseText,g):(401===g.status&&d&&ajx(baseurl+"services/reauth").then(function(d){var e=JSON.parse(d);return e.hasOwnProperty("status")&&"connected"===e.status?ajx(a,b,c,!1):void Ui.alert("Vous devez \xEAtre connect\xE9 pour acc\xE9der \xE0 cette page.",function(){window.location.href=baseurl+"login?redirect="+window.location.href},"Se reconnecter")}),f(g.responseText,g)))},g.open(b,a,!0),"POST"===b&&!(c instanceof FormData))if("object"===("undefined"==typeof c?"undefined":_typeof(c))){var h=new FormData;for(var i in c)c.hasOwnProperty(i)&&("object"===_typeof(c[i])&&(c[i]=JSON.stringify(c[i])),h.append(i,c[i]));c=h}else g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send(c)})}function foreach(a,b,c){"string"==typeof a&&(a=document.getElementsByClassName(a));var d=0;for("undefined"!=typeof c&&(d=c);d<a.length;)a.hasOwnProperty(d)&&b(a[d]),d++}function addProperty(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function getKeyCode(a){if(a.key!==void 0)return a.key;return void 0===a.keyCode?void 0:a.keyCode}function pressEnter(a){var b=getKeyCode(a);return"Enter"===b||13===b}function pressEchap(a){var b=getKeyCode(a);return"Escape"===b||27===b}function classicPost(a,b,c,d){a.addEventListener("submit",function(f){f.preventDefault(),d&&d.classList.add("loading");var e=new FormData(a);"multipart/form-data"!==a.enctype&&(e=new URLSearchParams(e).toString()),ajx(c,"POST",e).then(function(a){b(a)}).catch(function(a){handleJsonResp(a)}).finally(function(){d&&d.classList.remove("loading")})})}function getSelectedOption(a){return a.options[a.selectedIndex]}function getSelectedOptionValue(a){return getSelectedOption(a).value}function handleJsonResp(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Succ\xE8s",c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Erreur";if(a){var d=JSON.parse(a);if(d)return d&&d.hasOwnProperty("status")?"success"===d.status?d.hasOwnProperty("message")?Ui.notif(d.message,"success"):Ui.notif(b,"success"):d.hasOwnProperty("message")?Ui.notif(d.message,"error"):Ui.notif(c,"error"):d.hasOwnProperty("error")&&(d.error.hasOwnProperty("message")?Ui.notif(d.error.message,"error"):Ui.notif(c,"error")),d}}function copy(a){"string"==typeof a?navigator.clipboard.writeText(a).then(function(){Ui.notif("Le texte a \xE9t\xE9 copi\xE9 dans le presse-papier","success")}):(a.select(),document.execCommand("copy")&&Ui.notif("Le texte a \xE9t\xE9 copi\xE9 dans le presse-papier","success"))}function setCookie(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+1e3*(60*(60*(24*c)))),d="; expires="+e.toUTCString()}document.cookie=a+"="+(b||"")+d+"; path=/"}function getCookie(a){for(var b,d=a+"=",e=document.cookie.split(";"),f=0;f<e.length;f++){for(b=e[f];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(d))return b.substring(d.length,b.length)}return null}function eraseCookie(a){document.cookie=a+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function loadScript(a,b){var c=document.createElement("script");c.onload=function(){b()},c.src=a,document.head.appendChild(c)}function round(a){return Math.round(100*(a+Number.EPSILON))/100}

